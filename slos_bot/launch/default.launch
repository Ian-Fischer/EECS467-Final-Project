<launch>
	<include file="$(find openni2_launch)/launch/openni2.launch"/>
	<group ns="lcm_to_ros">
		<node pkg="lcm_to_ros" type="ODOMETRY_republisher" respawn="false" name="ODOMETRY_republisher" output="screen"/>
		<node pkg="lcm_to_ros" type="MBOT_MOTOR_COMMAND_republisher" respawn="false" name="MBOT_MOTOR_COMMAND_republisher" output="screen"/>
	</group>
	<node pkg="slos_bot" type="slos_bot_node" name="slos_bot_node"/>

	<!-- configure camera input -->
	<arg name="camera_name" default="/camera_rect" />
	<arg name="image_topic" default="image_rect" />
	<arg name="queue_size" default="1" />

	<!-- apriltag_ros continuous detection node -->
	<node pkg="apriltag_ros" type="apriltag_ros_continuous_node" name="apriltag_ros_continuous_node" clear_params="true" output="screen">
		<!-- Remap topics from those used in code to those on the ROS network -->
		<remap from="image_rect" to="/camera/rgb/image_rect_color" />
		<!-- <remap from="camera_info" to="$(arg camera_name)/camera_info" /> -->

		<!-- <param name="publish_tag_detections_image" type="bool" value="true" />default: false -->
		<!-- <param name="queue_size" type="int" value="$(arg queue_size)" /> -->

		<!-- load parameters (incl. tag family, tags, etc.) -->
		<rosparam command="load" file="$(find slos_bot)/config/settings.yaml"/>
		<rosparam command="load" file="$(find slos_bot)/config/tags.yaml"/>
	</node>
</launch>
